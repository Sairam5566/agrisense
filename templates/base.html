<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agriculture Portal - Empowering Farmers</title>
    <script src="/template/translate.js"></script>
    
    <!-- Modern CSS Framework and Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
    --primary-green: #4CAF50;
    --soil-brown: #8D6E63;
    --sky-blue: #2196F3;
    --harvest-yellow: #FFC107;
    --neutral-bg: #FAFAFA;
    --primary-green-dark: #388E3C;
    --soil-brown-dark: #6D4C41;
    --sky-blue-dark: #1565C0;
    --harvest-yellow-dark: #FFA000;

            --primary-green: #1a5f1a;
            --secondary-green: #2d8f47;
            --light-green: #4ade80;
            --earth-brown: #92400e;
            --light-brown: #d97706;
            --wheat-gold: #fbbf24;
            --sky-blue: #0ea5e9;
            --text-dark: #1f2937;
            --text-light: #ffffff;
            --bg-light: #f8fafc;
            --border-light: #e2e8f0;
            --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
            --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1);
            --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1);
            --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #f0f9ff 0%, #ecfdf5 50%, #fffbeb 100%);
            min-height: 100vh;
            color: var(--text-dark);
            line-height: 1.6;
            font-size: 16px;
        }

        /* Modern Navigation */
        .navbar {
            background: linear-gradient(135deg, var(--primary-green) 0%, var(--secondary-green) 100%);
            backdrop-filter: blur(10px);
            box-shadow: var(--shadow-lg);
            padding: 1rem 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            margin-bottom: 0; /* remove gap below header */
        }

        .navbar-brand {
            font-family: 'Poppins', sans-serif;
            font-weight: 700;
            font-size: 1.75rem;
            color: var(--text-light) !important;
            display: flex;
            align-items: center;
            text-decoration: none;
        }

        .navbar-brand i {
            margin-right: 12px;
            font-size: 2rem;
            color: var(--wheat-gold);
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2));
        }

        .nav-link {
            color: var(--text-light) !important;
            font-weight: 500;
            margin: 0 8px;
            padding: 10px 18px !important;
            border-radius: 50px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .nav-link::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .nav-link:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        .nav-link:hover::before {
            left: 100%;
        }

        /* Language Selector - Modern Design */
        .language-selector {
            position: fixed;
            top: 90px;
            right: 20px;
            z-index: 1050;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 12px;
            box-shadow: var(--shadow-xl);
            border: 1px solid var(--border-light);
        }

        .language-btn {
            display: block;
            width: 100%;
            margin: 4px 0;
            padding: 10px 16px;
            border: none;
            background: var(--bg-light);
            color: var(--text-dark);
            border-radius: 12px;
            font-weight: 500;
            font-size: 14px;
            transition: all 0.3s ease;
            min-height: 44px;
            cursor: pointer;
        }

        .language-btn:hover, .language-btn.active {
            background: var(--primary-green);
            color: var(--text-light);
            transform: translateY(-1px);
            box-shadow: var(--shadow-md);
        }

        /* Modern Cards */
        .feature-card {
            background: rgba(255, 255, 255, 0.98);
            border-radius: 24px;
            padding: 24px;
            margin: 16px 0;
            box-shadow: var(--shadow-lg);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid var(--border-light);
            position: relative;
            overflow: hidden;
        }

        .feature-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-green), var(--light-green), var(--wheat-gold));
        }

        .feature-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: var(--shadow-xl);
            border-color: var(--light-green);
        }

        .feature-icon {
            font-size: 3rem;
            background: linear-gradient(135deg, var(--primary-green), var(--light-green));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 24px;
            display: block;
        }

        .feature-title {
            font-family: 'Poppins', sans-serif;
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 16px;
        }

        /* Modern Buttons */
        .btn-agriculture {
            background: linear-gradient(135deg, var(--primary-green), var(--secondary-green));
            color: var(--text-light);
            border: none;
            padding: 14px 32px;
            border-radius: 50px;
            font-weight: 600;
            font-size: 1rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: var(--shadow-md);
            min-height: 48px;
            position: relative;
            overflow: hidden;
        }

        .btn-agriculture::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .btn-agriculture:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
            color: var(--text-light);
        }

        .btn-agriculture:hover::before {
            left: 100%;
        }

        .btn-secondary-agriculture {
            background: linear-gradient(135deg, var(--earth-brown), var(--light-brown));
            color: var(--text-light);
            border: none;
            padding: 14px 32px;
            border-radius: 50px;
            font-weight: 600;
            transition: all 0.3s ease;
            min-height: 48px;
            box-shadow: var(--shadow-md);
        }

        .btn-secondary-agriculture:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
            color: var(--text-light);
        }

        /* Modern Forms */
        .form-control {
            border-radius: 16px;
            border: 2px solid var(--border-light);
            padding: 14px 20px;
            font-size: 16px;
            min-height: 48px;
            transition: all 0.3s ease;
            background: var(--bg-light);
        }

        .form-control:focus {
            border-color: var(--primary-green);
            box-shadow: 0 0 0 4px rgba(26, 95, 26, 0.1);
            background: white;
        }

        /* Hero Section */
        .hero-section {
            background: linear-gradient(135deg, rgba(26, 95, 26, 0.9), rgba(45, 143, 71, 0.8)), 
                        radial-gradient(circle at 30% 70%, rgba(251, 191, 36, 0.3), transparent),
                        radial-gradient(circle at 70% 30%, rgba(74, 222, 128, 0.3), transparent);
            color: var(--text-light);
            padding: 120px 0;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .hero-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.03'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
            animation: float 20s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }

        .hero-title {
            font-family: 'Poppins', sans-serif;
            font-size: 3.5rem;
            font-weight: 800;
            margin-bottom: 24px;
            text-shadow: 0 4px 8px rgba(0,0,0,0.3);
            background: linear-gradient(135deg, #ffffff, #fbbf24);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero-subtitle {
            font-size: 1.25rem;
            margin-bottom: 40px;
            opacity: 0.95;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        /* Agriculture Icons with Animation */
        .agri-icon-wheat::before { content: "üåæ"; }
        .agri-icon-tractor::before { content: "üöú"; }
        .agri-icon-plant::before { content: "üå±"; }
        .agri-icon-sun::before { content: "‚òÄÔ∏è"; }
        .agri-icon-rain::before { content: "üåßÔ∏è"; }
        .agri-icon-farmer::before { content: "üë®‚Äçüåæ"; }

        .agri-icon-wheat, .agri-icon-tractor, .agri-icon-plant, 
        .agri-icon-sun, .agri-icon-rain, .agri-icon-farmer {
            display: inline-block;
            animation: bounce 2s ease-in-out infinite;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .hero-title {
                font-size: 2.5rem;
            }
            
            .hero-subtitle {
                font-size: 1.1rem;
            }
            
            .feature-card {
                margin: 15px 0;
                padding: 24px;
            }
            
            .language-selector {
                position: relative;
                top: auto;
                right: auto;
                margin: 20px auto;
                width: fit-content;
            }

            .navbar-brand {
                font-size: 1.5rem;
            }
        }

        /* Loading Animation */
        .loading {
            opacity: 0;
            animation: fadeIn 0.6s ease-in-out forwards;
        }

        @keyframes fadeIn {
            to { opacity: 1; }
        }

        /* Accessibility Improvements */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        /* Focus Styles */
        .btn-agriculture:focus,
        .btn-secondary-agriculture:focus,
        .language-btn:focus,
        .nav-link:focus {
            outline: 2px solid var(--wheat-gold);
            outline-offset: 2px;
        }

        /* High Contrast Support */
        @media (prefers-contrast: high) {
            .feature-card {
                border: 2px solid var(--text-dark);
            }
            
            .btn-agriculture,
            .btn-secondary-agriculture {
                border: 2px solid var(--text-dark);
            }
        }

        /* Reduced Motion Support */
        @media (prefers-reduced-motion: reduce) {
            *,
            *::before,
            *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

        /* Chat Widget Styles */
        .chat-widget {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
        }

        .chat-toggle {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--primary-green), var(--secondary-green));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            cursor: pointer;
            box-shadow: var(--shadow-lg);
            transition: all 0.3s ease;
        }

        .chat-toggle:hover {
            transform: scale(1.1);
            box-shadow: var(--shadow-xl);
        }

        .chat-window {
            position: fixed;
            bottom: 70px;
            right: 20px;
            width: 350px;
            height: 500px;
            background: white;
            border-radius: 15px;
            box-shadow: var(--shadow-xl);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            z-index: 1000;
        }

        .chat-header {
            background: linear-gradient(135deg, var(--primary-green), var(--secondary-green));
            color: white;
            padding: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chat-header h6 {
            margin: 0;
            font-weight: 600;
        }

        .chat-close {
            background: none;
            border: none;
            color: white;
            font-size: 20px;
            cursor: pointer;
            padding: 0;
            width: 25px;
            height: 25px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .chat-messages {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
            background: #f8f9fa;
            max-height: 400px;
            min-height: 300px;
            scroll-behavior: smooth;
        }

        .bot-message, .user-message {
            margin-bottom: 15px;
            padding: 10px 15px;
            border-radius: 15px;
            max-width: 80%;
            word-wrap: break-word;
        }

        .bot-message {
            background: white;
            border: 1px solid var(--border-light);
            margin-right: auto;
        }

        .user-message {
            background: linear-gradient(135deg, var(--primary-green), var(--secondary-green));
            color: white;
            margin-left: auto;
        }

        .chat-input {
            padding: 15px;
            background: white;
            border-top: 1px solid var(--border-light);
            display: flex;
            gap: 10px;
            flex-shrink: 0;
            position: sticky;
            bottom: 0;
        }

        .chat-input input {
            flex: 1;
            border: 1px solid var(--border-light);
            border-radius: 25px;
            padding: 10px 15px;
            outline: none;
        }

        .chat-input button {
            background: linear-gradient(135deg, var(--primary-green), var(--secondary-green));
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .chat-input button:hover {
            transform: scale(1.1);
        }

        .typing-indicator {
            padding: 10px 15px;
            background: white;
            border: 1px solid var(--border-light);
            border-radius: 15px;
            margin-bottom: 15px;
            max-width: 80%;
        }

        .typing-dots {
            display: flex;
            gap: 4px;
        }

        .typing-dots span {
            width: 8px;
            height: 8px;
            background: var(--primary-green);
            border-radius: 50%;
            animation: typing 1.4s infinite ease-in-out;
        }

        .typing-dots span:nth-child(1) { animation-delay: -0.32s; }
        .typing-dots span:nth-child(2) { animation-delay: -0.16s; }

        @keyframes typing {
            0%, 80%, 100% { transform: scale(0); }
            40% { transform: scale(1); }
        }

        @media (max-width: 768px) {
            .chat-window {
                width: 300px;
                height: 400px;
            }
        }
    </style>
</head>
<body>

    <!-- Navigation -->
    {% include  'partials/header.html' %}

    

    <!-- Main Content -->
    <main>
        <!-- Hero Section -->
        <section class="hero-section py-5">
            <div class="container">
                <div class="row align-items-center min-vh-50">
                    <div class="col-lg-6">
                        <div class="hero-content">
                            <h1 class="hero-title mb-4">
                                <span class="agri-icon-farmer me-3"></span>Empowering Farmers
                            </h1>
                            <p class="hero-subtitle mb-4">
                                Advanced ML predictions, weather forecasts, and smart farming solutions for sustainable agriculture
                            </p>
                            <div class="hero-buttons">
                                <a href="#features" class="btn btn-agriculture btn-lg me-3 mb-2">
                                    <i class="fas fa-seedling me-2"></i>Explore Features
                                </a>
                                                                                                    </a>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div class="hero-image text-center">
                            <div class="floating-icon">
                                <i class="fas fa-tractor" style="font-size: 12rem; color: var(--primary-green); opacity: 0.9;"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Features Section -->
        <section id="features" class="py-5">
            <div class="container">
                <div class="text-center mb-5">
                    <h2 class="display-4 fw-bold text-success">
                        <span class="agri-icon-wheat"></span> Our Features
                    </h2>
                    <p class="lead">
                        Comprehensive agricultural solutions powered by artificial intelligence
                    </p>
                </div>
                
                <div class="row">
                    <!-- ML Predictions -->
                    <div class="col-lg-3 col-md-6 mb-4">
                        <div class="feature-card text-center h-100">
                            <div class="feature-icon">
                                <i class="fas fa-book-open"></i>
                            </div>
                            <h4 class="feature-title">About Farming</h4>
                            <p>
                                Basics of crops, seasons, soil, irrigation, fertilizers, pests and best practices
                            </p>
                            <div class="mt-auto">
                                <a class="btn btn-agriculture" href="/template/about_farming.html">
                                    <i class="fas fa-arrow-right"></i> Learn More
                                </a>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Weather Forecast -->
                    <div class="col-lg-3 col-md-6 mb-4">
                        <div class="feature-card text-center h-100">
                            <div class="feature-icon agri-icon-sun">
                                <i class="fas fa-cloud-sun"></i>
                            </div>
                            <h4 class="feature-title">Weather Forecast</h4>
                            <p>
                                4-day weather predictions to help plan your farming activities effectively
                            </p>
                            <div class="mt-auto">
                                <a href="/weather" class="btn btn-agriculture">
                                    <i class="fas fa-thermometer-half"></i> Check Weather
                                </a>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Crop Marketplace -->
                    <div class="col-lg-3 col-md-6 mb-4">
                        <div class="feature-card text-center h-100">
                            <div class="feature-icon">
                                <i class="fas fa-store"></i>
                            </div>
                            <h4 class="feature-title">Crop Marketplace</h4>
                            <p>
                                Direct selling platform connecting farmers with customers for better prices
                            </p>
                            <div class="mt-auto">
                                <button class="btn btn-agriculture" onclick="showMarketplace()">
                                    <i class="fas fa-shopping-cart"></i> Sell Crops
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Agricultural News -->
                    <div class="col-lg-3 col-md-6 mb-4">
                        <div class="feature-card text-center h-100">
                            <div class="feature-icon">
                                <i class="fas fa-newspaper"></i>
                            </div>
                            <h4 class="feature-title">Agricultural News</h4>
                            <p>
                                Latest agricultural news, government schemes, and farming updates
                            </p>
                            <div class="mt-auto">
                                <a href="/news" class="btn btn-agriculture">
                                    <i class="fas fa-rss"></i> Read News
                                </a>
                            </div>
                        </div>
                    </div>
                    
                    <!-- AI Chatbot -->
                    <div class="col-lg-3 col-md-6 mb-4">
                        <div class="feature-card text-center h-100">
                            <div class="feature-icon">
                                <i class="fas fa-robot"></i>
                            </div>
                            <h4 class="feature-title">AI Assistant</h4>
                            <p>
                                24/7 AI-powered farming assistant to answer your agricultural questions
                            </p>
                            <div class="mt-auto">
                                <a class="btn btn-agriculture" href="/chatbot">
                                    <i class="fas fa-comments"></i> Ask AI
                                </a>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Soil Analysis -->
                    <div class="col-lg-3 col-md-6 mb-4">
                        <div class="feature-card text-center h-100">
                            <div class="feature-icon">
                                <i class="fas fa-microscope"></i>
                            </div>
                            <h4 class="feature-title">Soil Analysis</h4>
                            <p>
                                Upload a soil image to estimate soil type and get fertilizer recommendations
                            </p>
                            <div class="mt-auto">
                                <a class="btn btn-agriculture" href="/soil-analysis">
                                    <i class="fas fa-flask"></i> Analyze Soil
                                </a>
                            </div>
                        </div>
                    </div>

                    <!-- Disease Prediction -->
                    <div class="col-lg-3 col-md-6 mb-4">
                        <div class="feature-card text-center h-100">
                            <div class="feature-icon">
                                <i class="fas fa-leaf"></i>
                            </div>
                            <h4 class="feature-title">Disease Prediction</h4>
                            <p>
                                Upload a plant leaf image or use the camera to detect possible diseases and get tips
                            </p>
                            <div class="mt-auto">
                                <a class="btn btn-agriculture" href="/disease">
                                    <i class="fas fa-stethoscope"></i> Detect Disease
                                </a>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Government Schemes -->
                    <div class="col-lg-3 col-md-6 mb-4">
                        <div class="feature-card text-center h-100">
                            <div class="feature-icon">
                                <i class="fas fa-landmark"></i>
                            </div>
                            <h4 class="feature-title">Government Schemes</h4>
                            <p>
                                Find eligible government schemes and subsidies based on your income and farming category
                            </p>
                            <div class="mt-auto">
                                <a class="btn btn-agriculture" href="/schemes">
                                    <i class="fas fa-search"></i> View Schemes
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        

        <!-- Statistics Section -->
        <section class="py-5">
            <div class="container">
                <div class="row text-center">
                    <div class="col-lg-3 col-md-6 mb-4">
                        <div class="feature-card">
                            <h2 class="text-success fw-bold">10,000+</h2>
                            <p>Farmers Helped</p>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6 mb-4">
                        <div class="feature-card">
                            <h2 class="text-success fw-bold">95%</h2>
                            <p>Prediction Accuracy</p>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6 mb-4">
                        <div class="feature-card">
                            <h2 class="text-success fw-bold">22+</h2>
                            <p>Languages Supported</p>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6 mb-4">
                        <div class="feature-card">
                            <h2 class="text-success fw-bold">24/7</h2>
                            <p>Support Available</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Modal for ML Features -->
        <div class="modal fade" id="mlModal" tabindex="-1">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header bg-success text-white">
                        <h5 class="modal-title">ML Features</h5>
                        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                    </div>
                    <div class="modal-body">
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <div class="card h-100">
                                    <div class="card-body text-center">
                                        <i class="fas fa-seedling text-success mb-3" style="font-size: 3rem;"></i>
                                        <h6>Crop Prediction</h6>
                                        <p class="small">Predict suitable crops based on location and season</p>
                                        <button class="btn btn-sm btn-agriculture" onclick="showCropPrediction()">Try Now</button>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6 mb-3">
                                <div class="card h-100">
                                    <div class="card-body text-center">
                                        <i class="fas fa-flask text-success mb-3" style="font-size: 3rem;"></i>
                                        <h6>Fertilizer Recommendation</h6>
                                        <p class="small">Get fertilizer suggestions based on soil conditions</p>
                                        <button class="btn btn-sm btn-agriculture" onclick="showFertilizerRecommendation()">Try Now</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-dark text-light py-4 mt-5">
        <div class="container">
            <div class="row">
                <div class="col-md-12 text-center">
                    <p>&copy; 2025 Agriculture Portal. All rights reserved.</p>
                    <p class="text-muted">Agricultural advice is for guidance only. Consult local experts for specific recommendations.</p>
                </div>
            </div>
            <div class="row">
                <div class="col-md-3 mb-4">
                    <h6 class="text-success mb-3">Quick Links</h6>
                    <ul class="list-unstyled">
                        <li><a href="#" class="text-light text-decoration-none">Crop Prediction</a></li>
                        <li><a href="#" class="text-light text-decoration-none">Weather Forecast</a></li>
                        <li><a href="#" class="text-light text-decoration-none">Market Prices</a></li>
                        <li><a href="#" class="text-light text-decoration-none">Farming Tips</a></li>
                    </ul>
                </div>
                <div class="col-md-3 mb-4">
                    <h6 class="text-success mb-3">Government Schemes</h6>
                    <ul class="list-unstyled">
                        <li><a href="#" class="text-light text-decoration-none">PM-KISAN</a></li>
                        <li><a href="#" class="text-light text-decoration-none">Soil Health Card</a></li>
                        <li><a href="#" class="text-light text-decoration-none">Crop Insurance</a></li>
                        <li><a href="#" class="text-light text-decoration-none">MSP Support</a></li>
                    </ul>
                </div>
                <div class="col-md-3 mb-4">
                    <h6 class="text-success mb-3">Contact & Support</h6>
                    <p><i class="fas fa-phone text-success"></i> <span>Farmer Helpline:</span> 1800-XXX-XXXX</p>
                    <p><i class="fas fa-envelope text-success"></i> support@agricultureportal.com</p>
                    <div class="mt-3">
                        <a href="#" class="text-light me-3"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="text-light me-3"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="text-light me-3"><i class="fab fa-youtube"></i></a>
                        <a href="#" class="text-light"><i class="fab fa-whatsapp"></i></a>
                    </div>
                </div>
            </div>
            <hr class="my-4">
            <div class="row align-items-center">
                <div class="col-md-6">
                    <p class="mb-0">&copy; 2025 Agriculture Portal. All rights reserved.</p>
                </div>
                <div class="col-md-6 text-md-end">
                    <small class="text-muted">
                        Agricultural advice is for guidance only. Consult local experts for specific recommendations.
                    </small>
                </div>
            </div>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Multi-language Support -->
    <script>
        // Simple language preference storage (API-only translation)
        function getPreferredLanguage() {
            try {
                return localStorage.getItem('preferred_language') || 'en';
            } catch {
                return 'en';
            }
        }

        function setPreferredLanguage(lang) {
            try {
                localStorage.setItem('preferred_language', lang);
            } catch {}
        }

        // Basic changeLanguage function for compatibility (will be enhanced by translate.js)
        window.changeLanguage = function(lang) {
            setPreferredLanguage(lang);
            console.log('Language changed to:', lang);
        };

        // Removed static translations - now using API-only translation

        // Auth-aware navbar items and logout
        function syncNavFromAuth(){
            try {
                const token = localStorage.getItem('token');
                const roleRaw = localStorage.getItem('user_type');
                const role = (roleRaw || '').toLowerCase();
                console.log('Syncing auth navigation - Token:', token, 'Role:', role);
                
                const show = (id, cond) => { 
                    const el = document.getElementById(id); 
                    if(el){ 
                        if (cond) {
                            el.classList.remove('d-none');
                            console.log('Showing element:', id);
                        } else {
                            el.classList.add('d-none');
                            console.log('Hiding element:', id);
                        }
                    } else {
                        console.log('Element not found:', id);
                    }
                };
                
                // Keep Farmer Portal always visible; only toggle Buyer and Logout
                const isBuyer = !!token && (role === 'customer' || role === 'buyer');
                const isLoggedIn = !!token;
                
                // Do NOT hide Farmer portal from header even if logged out
                const farmerEl = document.getElementById('navFarmer');
                if (farmerEl) farmerEl.classList.remove('d-none');
                
                show('navBuyer', isBuyer);
                show('navLogout', isLoggedIn);
            } catch (error) {
                console.error('Error in syncNavFromAuth:', error);
            }
        }
        function appLogout(){
            localStorage.removeItem('token');
            localStorage.removeItem('user_type');
            localStorage.removeItem('user_id');
            syncNavFromAuth();
            window.location.href = '/';
        }
        window.appLogout = appLogout;
        document.addEventListener('DOMContentLoaded', syncNavFromAuth);
        
        // Expose function for manual testing
        window.checkAuthNavigation = function() {
            console.log('Manually checking auth navigation...');
            syncNavFromAuth();
        };

        // Feature functions
        function showMLFeatures() {
            const modal = new bootstrap.Modal(document.getElementById('mlModal'));
            modal.show();
        }

        function showCropPrediction() {
            // Implement crop prediction form
            alert('Crop Prediction feature - Add your implementation here');
        }

        function showFertilizerRecommendation() {
            // Implement fertilizer recommendation form
            alert('Fertilizer Recommendation feature - Add your implementation here');
        }

        function showYieldPrediction() {
            // Implement yield prediction form
            alert('Yield Prediction feature - Add your implementation here');
        }

        function showRainfallPrediction() {
            // Implement rainfall prediction form
            alert('Rainfall Prediction feature - Add your implementation here');
        }

        function getWeatherForecast() {
            // Implement weather forecast
            alert('Weather Forecast feature - Add your OpenWeatherMap API key');
        }

        function showMarketplace() {
            // Navigate to the Crop Marketplace page
            window.location.href = '/market';
        }

        function showNews() {
            // Implement news feed
            alert('Agricultural News feature - Add your News API key');
        }

    </script>
    
</body>
</html>
